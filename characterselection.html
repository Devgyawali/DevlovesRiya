<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dev and Riya Game Zone ❤️</title>
    <style>
        /* Existing styles remain unchanged */

        @keyframes backgroundAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        @keyframes floatHearts {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-100vh); opacity: 0; }
        }

        @keyframes shake {
            0% { transform: translate(1px, 1px); }
            25% { transform: translate(-1px, -2px); }
            50% { transform: translate(-3px, 0px); }
            75% { transform: translate(3px, 2px); }
            100% { transform: translate(1px, -1px); }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(45deg, #ff758c, #ff7eb3, #ffdde1);
            background-size: 400% 400%;
            animation: backgroundAnimation 6s infinite alternate;
            color: #ffffff;
            text-align: center;
            margin: 0;
            overflow: hidden;
            position: relative;
        }

        .glowing-effect {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255, 20, 147, 0.3) 20%, transparent 60%);
            animation: backgroundAnimation 5s infinite alternate;
            opacity: 0.4;
            pointer-events: none;
        }

        .start-button {
            background: linear-gradient(45deg, #ff1493, #ff69b4);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 18px;
            transition: 0.3s;
            margin-top: 20px;
            box-shadow: 0 0 15px rgba(255, 20, 147, 0.6);
            animation: heartBeat 1s infinite; /* Added heartbeat animation */
        }

        .start-button:hover {
            background: linear-gradient(45deg, #ff69b4, #ff1493);
            transform: scale(1.1);
        }

        .welcome-screen {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: radial-gradient(circle, #ff69b4, #ff1493);
            transition: opacity 1s ease-in-out;
            box-shadow: inset 0 0 50px rgba(255, 255, 255, 0.2);
        }

        .welcome-screen h1 {
            animation: shake 0.5s infinite alternate;
        }

        .character-selection {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            position: relative;
            background: url('https://www.transparenttextures.com/patterns/fancy-deboss.png') repeat;
            background-size: cover;
            box-shadow: inset 0 0 50px rgba(255, 20, 147, 0.3);
        }

        .character {
            width: 150px;
            margin: 20px;
            cursor: pointer;
            transition: transform 0.3s ease, border 0.3s ease, box-shadow 0.3s ease;
            text-align: center;
            border: 5px solid transparent;
            border-radius: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
        }

        .character img {
            width: 150px;
            height: 150px;
            object-fit: cover;
            border-radius: 10px;
        }

        .character:hover {
            transform: scale(1.1) rotate(5deg);
            border: 5px solid #ff1493;
            box-shadow: 0 0 25px rgba(255, 20, 147, 0.7);
        }

        .tooltip {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            border-radius: 5px;
            padding: 10px;
            width: 200px;
            left: 50%;
            transform: translateX(-50%);
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s, visibility 0.3s;
            z-index: 10;
        }

        .character:hover .tooltip {
            visibility: visible;
            opacity: 1;
            animation: fadeIn 0.5s; /* Fade-in effect for tooltip */
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .heart {
            font-size: 50px;
            margin: 20px;
            animation: heartBeat 1.5s infinite ease-in-out;
        }

        h1, h2 {
            color: #fff;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
        }

        h2 {
            margin-bottom: 10px;
        }

        .characters-container {
            display: flex;
            gap: 40px;
            overflow: hidden; /* Hide overflow for swipe effect */
            max-width: 100vw; /* Ensure it fits within view */
        }

        .character-wrapper {
            display: flex; /* Create a wrapper for swipe functionality */
            transition: transform 0.3s ease; /* Smooth transition for swiping */
        }

        .exciting-background {
            position: absolute;
            width: 100%;
            height: 100%;
            background: url('https://images.unsplash.com/photo-1506748686214-e9df14d4d9d0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzNjUyOXwwfDF8c2VhcmNofDV8fGdhbWluZ3xlbnwwfHx8fDE2MzIwMTc3MzI&ixlib=rb-1.2.1&q=80&w=1080') no-repeat center center fixed;
            opacity: 0.5;
            pointer-events: none;
            z-index: -1;
        }

        /* Floating Hearts */
        .floating-heart {
            position: absolute;
            font-size: 30px;
            animation: floatHearts 4s linear infinite;
        }

        /* Mute Button */
        .music-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: transparent;
            border: none;
            cursor: pointer;
            color: white;
            font-size: 20px;
            display: flex;
            align-items: center;
        }

        .music-toggle img {
            width: 24px;
            height: 24px;
            margin-right: 5px;
        }

        /* Message Display */
        .message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2.5em;
            color: #ff1493;
            text-shadow: 2px 2px 10px rgba(255, 255, 255, 0.8);
            opacity: 1;
            animation: fadeOut 1s forwards, pulse 1s infinite alternate; /* Added pulse effect */
            display: none; /* Initially hidden */
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Navigation buttons */
        .nav-buttons {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            gap: 20px;
        }

        .nav-button {
            background: #ff4081;
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 18px;
            transition: background 0.3s;
        }

        .nav-button:hover {
            background: #ff69b4;
        }
    </style>
</head>
<body>
    <audio id="bgm" src="audio/choose-character-made-with-Voicemod.mp3" loop></audio>

    <div class="glowing-effect"></div>
    
    <div class="welcome-screen" id="welcome-screen">
        <h1>Welcome to Dev and Riya Game Zone ❤️</h1>
        <button class="start-button" id="start-button">Start Now!</button>
        <button class="music-toggle" id="music-toggle">
            <img src="https://img.icons8.com/ios-filled/50/ffffff/speaker.png" alt="Mute Icon"/>Mute
        </button>
    </div>

    <div class="character-selection" id="character-selection" style="display: none;">
        <h2>Choose Your Character</h2>
        <div class="heart">❤️</div>
        <div class="characters-container">
            <div class="character-wrapper" id="character-wrapper">
                <div class="character" id="dev" onmouseenter="playHoverSound()" onclick="selectCharacter('Dev')">
                    <img src="pics/gamedev.jpg" alt="Dev">
                    <p>Dev</p>
                    <span class="tooltip">Dev: A determined and loyal guy with an unshakable love for Riya, believing that no matter what, she will be his forever. Intelligent and hardworking, he strives for success while holding onto his deepest emotions.</span>
                </div>
                <div class="character" id="riya" onmouseenter="playHoverSound()" onclick="selectCharacter('Riya')">
                    <img src="pics/gameriya.jpg" alt="Riya">
                    <p>Riya</p>
                    <span class="tooltip">Riya: A sweet and resilient girl with a warm heart, facing life's challenges with quiet strength. Despite the distance and hardships, she remains the most precious person in Dev's life.</span>
                </div>
            </div>
        </div>
        
        <!-- Navigation Buttons -->
        <div class="nav-buttons">
            <button class="nav-button" id="prev-button">&lt;</button>
            <button class="nav-button" id="select-button">Select</button>
            <button class="nav-button" id="next-button">&gt;</button>
        </div>
    </div>

    <div class="exciting-background"></div>

    <!-- Message Display -->
    <div class="message" id="selected-message"></div>

    <!-- Floating Hearts -->
    <script>
        function createFloatingHearts() {
            const heart = document.createElement('div');
            heart.classList.add('floating-heart');
            heart.innerHTML = '❤️';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 3 + 2) + 's'; // Random duration between 2-5 seconds
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000); // Remove heart after 5 seconds
        }

        setInterval(createFloatingHearts, 500); // Create a heart every 500ms

        const bgm = document.getElementById("bgm");
        const startButton = document.getElementById("start-button");
        const characterHoverAudio = new Audio('audio/characterswitch.mp3');
        const characterClickAudio = new Audio('audio/choosecharacter.mp3');
        const musicToggle = document.getElementById("music-toggle");

        startButton.addEventListener("click", function () {
            bgm.play().catch(error => console.warn("Autoplay blocked:", error));
            const welcomeScreen = document.getElementById('welcome-screen');
            const characterSelection = document.getElementById('character-selection');

            welcomeScreen.style.opacity = '0';
            setTimeout(() => {
                welcomeScreen.style.display = 'none';
                characterSelection.style.display = 'flex';
                characterSelection.style.opacity = '1';
            }, 1000);
        });

        musicToggle.addEventListener("click", function () {
            if (bgm.paused) {
                bgm.play();
                musicToggle.innerHTML = '<img src="https://img.icons8.com/ios-filled/50/ffffff/speaker.png" alt="Mute Icon"/>Mute'; // Change icon to speaker
            } else {
                bgm.pause();
                musicToggle.innerHTML = '<img src="https://img.icons8.com/ios-filled/50/ffffff/mute.png" alt="Unmute Icon"/>Unmute'; // Change icon to mute
            }
        });

        function playHoverSound() {
            characterHoverAudio.currentTime = 0;
            characterHoverAudio.play().catch(error => console.error("Error playing hover sound:", error));
        }

        let currentCharacterIndex = 0; // Track the current character index
        const characters = ['Dev', 'Riya']; // Array of characters

        function selectCharacter(character) {
            characterClickAudio.currentTime = 0;
            characterClickAudio.play().catch(error => console.error("Error playing select sound:", error));
            
            const messageElement = document.getElementById('selected-message');
            messageElement.innerText = `You have selected ${character}!`;
            messageElement.style.display = 'block'; // Show the message
            messageElement.style.opacity = '1'; // Make it fully visible
            
            // Fade out the message after 1 second and redirect
            setTimeout(() => {
                messageElement.style.animation = 'fadeOut 1s forwards'; // Start fade-out animation
                setTimeout(() => {
                    if (character === 'Dev') {
                        window.location.href = 'gamelobbydev.html'; // Redirect to Dev's lobby
                    } else if (character === 'Riya') {
                        window.location.href = 'gamelobbyriya.html'; // Redirect to Riya's lobby
                    }
                }, 1000); // Wait for the message to fade out before redirecting
            }, 1000); // Display message for 1 second before fading out
        }

        // Navigation button functionality
        document.getElementById("prev-button").addEventListener("click", function() {
            playHoverSound();  // Play sound on button click
            currentCharacterIndex = (currentCharacterIndex === 0) ? characters.length - 1 : currentCharacterIndex - 1;
            updateCharacterSelection();
        });

        document.getElementById("next-button").addEventListener("click", function() {
            playHoverSound();  // Play sound on button click
            currentCharacterIndex = (currentCharacterIndex === characters.length - 1) ? 0 : currentCharacterIndex + 1;
            updateCharacterSelection();
        });

        document.getElementById("select-button").addEventListener("click", function() {
            selectCharacter(characters[currentCharacterIndex]); // Select the character based on the current index
        });

        function updateCharacterSelection() {
            const devCharacter = document.getElementById("dev");
            const riyaCharacter = document.getElementById("riya");

            // Reset all characters' styles
            devCharacter.style.border = "5px solid transparent";
            riyaCharacter.style.border = "5px solid transparent";

            // Highlight the selected character
            if (currentCharacterIndex === 0) {
                devCharacter.style.border = "5px solid #ff1493"; // Highlight Dev
            } else {
                riyaCharacter.style.border = "5px solid #ff1493"; // Highlight Riya
            }
        }

        // Initial character selection state
        updateCharacterSelection();
    </script>
</body>
</html>